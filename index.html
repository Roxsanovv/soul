<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lavender Messenger</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
</head>
<body>
    <!-- –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="auth-screen" class="screen active">
        <div class="auth-container">
            <div class="logo">
                <div class="logo-icon">üíú</div>
                <h1>Lavender Messenger</h1>
                <p>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä</p>
            </div>
            
            <div class="auth-form">
                <div id="login-form" class="form active">
                    <h2>–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h2>
                    <div class="input-group">
                        <input type="email" id="login-email" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email">
                        <span class="input-icon">‚úâÔ∏è</span>
                    </div>
                    <div class="input-group">
                        <input type="password" id="login-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                        <span class="input-icon">üîí</span>
                    </div>
                    <button id="login-btn" class="auth-button">
                        <span class="btn-text">–í–æ–π—Ç–∏</span>
                        <div class="btn-loader"></div>
                    </button>
                    <div class="auth-links">
                        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="#" id="show-register">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</a></p>
                    </div>
                </div>
                
                <div id="register-form" class="form">
                    <h2>–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞</h2>
                    <div class="input-group">
                        <input type="text" id="register-name" placeholder="–í–∞—à–µ –∏–º—è">
                        <span class="input-icon">üë§</span>
                    </div>
                    <div class="input-group">
                        <input type="email" id="register-email" placeholder="Email">
                        <span class="input-icon">‚úâÔ∏è</span>
                    </div>
                    <div class="input-group">
                        <input type="password" id="register-password" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)">
                        <span class="input-icon">üîí</span>
                    </div>
                    <button id="register-btn" class="auth-button">
                        <span class="btn-text">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
                        <div class="btn-loader"></div>
                    </button>
                    <div class="auth-links">
                        <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="#" id="show-login">–í–æ–π—Ç–∏</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ -->
    <div id="main-screen" class="screen">
        <div class="app-container">
            <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —á–∞—Ç–∞–º–∏ -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <div class="user-info">
                        <div class="avatar-container">
                            <img id="user-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar">
                            <div class="online-indicator"></div>
                        </div>
                        <div class="user-details">
                            <span id="user-name" class="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                            <div class="user-status online">online</div>
                        </div>
                    </div>
                    <div class="sidebar-actions">
                        <button id="new-chat-btn" class="icon-btn" title="–ù–æ–≤—ã–π —á–∞—Ç">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                            </svg>
                        </button>
                        <button id="settings-btn" class="icon-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.82,11.69,4.82,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="search-container">
                    <div class="search-input-wrapper">
                        <input type="text" id="search-input" placeholder="–ü–æ–∏—Å–∫ —á–∞—Ç–æ–≤...">
                        <span class="search-icon">üîç</span>
                    </div>
                </div>
                
                <div class="chats-list" id="chats-list">
                    <div class="empty-state">
                        <div class="empty-icon">üí¨</div>
                        <p>–ß–∞—Ç–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
                        <p class="empty-subtitle">–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —á–∞—Ç, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ</p>
                    </div>
                </div>
            </div>
            
            <!-- –û–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
            <div class="chat-area">
                <div class="chat-header">
                    <div class="chat-info">
                        <div class="avatar-container">
                            <img id="chat-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä —á–∞—Ç–∞" class="avatar">
                            <div class="online-indicator" id="chat-online-indicator" style="display: none;"></div>
                        </div>
                        <div class="chat-details">
                            <h3 id="chat-title">–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç</h3>
                            <span id="chat-status" class="chat-status">–ù–∞—á–Ω–∏—Ç–µ –æ–±—â–µ–Ω–∏–µ</span>
                        </div>
                    </div>
                    <div class="chat-actions" id="chat-actions" style="display: none;">
                        <button id="voice-call-btn" class="icon-btn" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –∑–≤–æ–Ω–æ–∫">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
                            </svg>
                        </button>
                        <button id="video-call-btn" class="icon-btn" title="–í–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
                            </svg>
                        </button>
                        <button id="chat-info-btn" class="icon-btn" title="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–µ">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="messages-container" id="messages-container">
                    <div class="no-chat-selected">
                        <div class="welcome-icon">üíú</div>
                        <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Lavender Messenger</h3>
                        <p>–í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—â–µ–Ω–∏—è –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π</p>
                    </div>
                </div>
                
                <div class="message-input-container" id="message-input-container" style="display: none;">
                    <div class="input-wrapper">
                        <div class="message-input-wrapper">
                            <input type="text" id="message-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                            <div class="input-actions">
                                <button class="emoji-btn" title="–≠–º–æ–¥–∑–∏">üòä</button>
                            </div>
                        </div>
                        <button id="send-btn" class="send-btn" disabled>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞ -->
    <div id="new-chat-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ù–æ–≤—ã–π —á–∞—Ç</h3>
                <button id="close-new-chat-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-section">
                    <div class="section-header">
                        <h4>–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h4>
                        <button id="refresh-users-btn" class="icon-btn small" title="–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                            </svg>
                        </button>
                    </div>
                    <div class="search-input-wrapper">
                        <input type="text" id="search-user-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ email...">
                        <span class="search-icon">üîç</span>
                    </div>
                </div>
                <div class="users-list-container">
                    <div class="users-list" id="users-list">
                        <div class="empty-state">
                            <div class="empty-icon">üë•</div>
                            <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="create-group-chat-btn" class="secondary-btn">–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç</button>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h3>
                <button id="close-settings-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h4>
                    <div class="profile-settings">
                        <div class="avatar-section">
                            <div class="avatar-preview-container">
                                <div class="avatar-preview">
                                    <img id="settings-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar">
                                    <div class="avatar-overlay">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                                            <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="avatar-colors">
                                    <h5>–¶–≤–µ—Ç –∞–≤–∞—Ç–∞—Ä–∞</h5>
                                    <div class="color-options">
                                        <div class="color-option active" data-color="#8a4fff" style="background-color: #8a4fff;"></div>
                                        <div class="color-option" data-color="#2196f3" style="background-color: #2196f3;"></div>
                                        <div class="color-option" data-color="#e91e63" style="background-color: #e91e63;"></div>
                                        <div class="color-option" data-color="#4caf50" style="background-color: #4caf50;"></div>
                                        <div class="color-option" data-color="#ff9800" style="background-color: #ff9800;"></div>
                                        <div class="color-option" data-color="#9c27b0" style="background-color: #9c27b0;"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="name-input-section">
                                <label for="settings-name">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                                <input type="text" id="settings-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                                <p class="input-hint">–≠—Ç–æ –∏–º—è –±—É–¥—É—Ç –≤–∏–¥–µ—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</p>
                            </div>
                        </div>
                        <button id="save-profile-btn" class="primary-btn">
                            <span class="btn-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</span>
                            <div class="btn-loader"></div>
                        </button>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h4>
                    <div class="theme-settings">
                        <div class="theme-option">
                            <input type="radio" id="theme-dark" name="theme" value="dark" checked>
                            <label for="theme-dark">
                                <div class="theme-preview dark-theme"></div>
                                <div class="theme-info">
                                    <span class="theme-name">–õ–∞–≤–∞–Ω–¥–æ–≤–∞—è</span>
                                    <span class="theme-description">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞ —Å —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏</span>
                                </div>
                            </label>
                        </div>
                        <div class="theme-option">
                            <input type="radio" id="theme-blue" name="theme" value="blue">
                            <label for="theme-blue">
                                <div class="theme-preview blue-theme"></div>
                                <div class="theme-info">
                                    <span class="theme-name">–°–∏–Ω—è—è</span>
                                    <span class="theme-description">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞ —Å —Å–∏–Ω–∏–º–∏ –∞–∫—Ü–µ–Ω—Ç–∞–º–∏</span>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>–ê–∫–∫–∞—É–Ω—Ç</h4>
                    <div class="account-actions">
                        <button id="logout-btn" class="logout-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                            </svg>
                            –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —á–∞—Ç–µ -->
    <div id="chat-info-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —á–∞—Ç–µ</h3>
                <button id="close-chat-info-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="chat-info-content" id="chat-info-content">
                    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–≤–æ–Ω–∫–∞ -->
    <div id="call-modal" class="modal">
        <div class="modal-content call-modal">
            <div class="call-header">
                <h3 id="call-title">–ó–≤–æ–Ω–æ–∫</h3>
                <div id="call-timer">00:00</div>
            </div>
            <div class="call-body">
                <div class="call-avatar">
                    <img id="call-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar">
                    <div class="call-status" id="call-status">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ...</div>
                    <div class="caller-name" id="caller-name"></div>
                </div>
                <div class="call-controls">
                    <button id="mute-call-btn" class="call-btn mute-call" title="–í—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3.63 3.63a.996.996 0 0 0 0 1.41L7.29 9H6c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h2.29l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 1 0 1.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM18 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 18 9.06 18 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0 0 14 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"/>
                        </svg>
                    </button>
                    <button id="end-call-btn" class="call-btn end-call" title="–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28a11.27 11.27 0 0 0-2.67-1.85.996.996 0 0 1-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞ -->
    <div id="incoming-call-modal" class="modal">
        <div class="modal-content call-modal incoming-call">
            <div class="call-header">
                <h3>–í—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫</h3>
            </div>
            <div class="call-body">
                <div class="call-avatar">
                    <img id="incoming-call-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar">
                    <div class="call-status" id="incoming-call-status">–í–∞–º –∑–≤–æ–Ω—è—Ç...</div>
                    <div class="caller-name" id="incoming-caller-name"></div>
                </div>
                <div class="call-controls">
                    <button id="decline-call-btn" class="call-btn decline-call" title="–û—Ç–∫–ª–æ–Ω–∏—Ç—å">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"/>
                        </svg>
                    </button>
                    <button id="accept-call-btn" class="call-btn accept-call" title="–ü—Ä–∏–Ω—è—Ç—å">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞ -->
    <div id="active-call-modal" class="modal">
        <div class="modal-content call-modal active-call">
            <div class="call-header">
                <h3 id="active-call-title">–ó–≤–æ–Ω–æ–∫</h3>
                <div id="active-call-timer">00:00</div>
            </div>
            <div class="call-body">
                <div class="call-participants">
                    <div class="participant">
                        <img id="active-call-avatar" src="" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar large">
                        <div class="participant-name" id="active-caller-name"></div>
                        <div class="call-status" id="active-call-status">–†–∞–∑–≥–æ–≤–æ—Ä –∞–∫—Ç–∏–≤–µ–Ω</div>
                    </div>
                </div>
                <div class="call-controls expanded">
                    <button id="toggle-video-btn" class="call-btn toggle-video" title="–í–∫–ª—é—á–∏—Ç—å –≤–∏–¥–µ–æ">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/>
                        </svg>
                    </button>
                    <button id="toggle-mute-btn" class="call-btn toggle-mute" title="–í—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3.63 3.63a.996.996 0 0 0 0 1.41L7.29 9H6c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h2.29l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 1 0 1.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM18 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 18 9.06 18 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0 0 14 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"/>
                        </svg>
                    </button>
                    <button id="end-active-call-btn" class="call-btn end-call" title="–ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 9c-1.6 0-3.15.25-4.6.72v3.1c0 .39-.23.74-.56.9-.98.49-1.87 1.12-2.66 1.85-.18.18-.43.28-.7.28-.28 0-.53-.11-.71-.29L.29 13.08c-.18-.17-.29-.42-.29-.7 0-.28.11-.53.29-.71C3.34 8.78 7.46 7 12 7s8.66 1.78 11.71 4.67c.18.18.29.43.29.71 0 .28-.11.53-.29.71l-2.48 2.48c-.18.18-.43.29-.71.29-.27 0-.52-.11-.7-.28a11.27 11.27 0 0 0-2.67-1.85.996.996 0 0 1-.56-.9v-3.1C15.15 9.25 13.6 9 12 9z"/>
                        </svg>
                    </button>
                    <button id="toggle-speaker-btn" class="call-btn toggle-speaker" title="–ì—Ä–æ–º–∫–∞—è —Å–≤—è–∑—å">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                        </svg>
                    </button>
                    <button id="toggle-hold-btn" class="call-btn toggle-hold" title="–£–¥–µ—Ä–∂–∞—Ç—å –≤—ã–∑–æ–≤">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6 7h2.5L5 3.5 1.5 7H4v10H1.5L5 20.5 8.5 17H6V7zm4-2v2h12V5H10zm0 14h12v-2H10v2zm0-6h12v-2H10v2z"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notifications-container"></div>

    <script src="firebase-config.js"></script>
    <script src="script.js"></script>
</body>
</html>
